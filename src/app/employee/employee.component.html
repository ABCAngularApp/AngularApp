<div class="container">
  <div class="btn btn-default tab" (click)='basicInfoTab()'>Basic info</div>
  <div class="btn btn-default tab" (click)='projectsTab()'>Related projects</div>
  <div class="row employee-main">
    <table class="table table-hover text-center">
      <tr>
        <th class="text-center">Id</th>
        <th class="text-center">First Name</th>
        <th class="text-center">Last Name</th>
      </tr>
      <tr #selectRow *ngFor='let employeeID of employee' (click)='checkCurrentEmployee(currentID,selectRow)'>
        <td #currentID>{{employeeID.id}}</td>
        <td>{{employeeID.firstName}}</td>
        <td>{{employeeID.lastName}}</td>
      </tr>
    </table>
  </div>
</div>

<div *ngIf='firstTab' class="container employee-main">
  <h2>Basic info</h2><br>
  <!-- Current User -->
<div *ngIf='!createUser && !updateUser'>
  <div class="row">
    <div>
      <form id='formEmployee' #form='ngForm' (ngSubmit)='saveEmployee(form.value)'>
        <div class="form-group">
          <label>ID</label>
          <input [ngModel]='currentEmployee.id' name='id' ngModel>
        </div>
        <div class="form-group">
          <label>First Name</label>
          <input [ngModel]='currentEmployee.firstName' type='text' name='firstName' ngModel>
        </div>
        <div class="form-group">
          <label>Last Name</label>
          <input type='text' [ngModel]='currentEmployee.lastName' name='lastName' ngModel>
        </div>
        <div class="form-group">
          <label>Title</label>
          <input type='text' [ngModel]='currentEmployee.title' name='title' ngModel>
        </div>
        <div class="form-group">
          <label>Date of birth</label>
          <input type='text' [ngModel]='currentEmployee.dateOfBirth' name='dateOfBirth' ngModel>
        </div>
        <div>
          <button type="submit" class="btn btn-info">Save</button>
        </div>
      </form>
      <button class="btn btn-success create" (click)='create()'>Create</button>
      <button class="btn btn-primary create" (click)='update()'>Update</button>
    </div>
  </div>
</div>

<!-- create user -->
<div *ngIf='createUser'>
  <div class="row">
    <div>
      <form id='formEmployee' #form='ngForm' (ngSubmit)='saveEmployee(form.value)'>
        <div class="form-group">
          <label>ID</label>
          <input name='id' ngModel>
        </div>
        <div class="form-group">
          <label>First Name</label>
          <input type='text' name='firstName' ngModel>
        </div>
        <div class="form-group">
          <label>Last Name</label>
          <input type='text' name='lastName' ngModel>
        </div>
        <div class="form-group">
          <label>Title</label>
          <input type='text' name='title' ngModel>
        </div>
        <div class="form-group">
          <label>Date of birth</label>
          <input type='text' name='dateOfBirth' ngModel>
        </div>
        <div>
          <button type="submit" class="btn btn-info">Save</button>
        </div>
      </form>
      <button class="btn btn-success create" (click)='create()'>Create</button>
    </div>
  </div>
</div>

<!-- update user -->
<div *ngIf='updateUser' class=" employee-main">
  <div class="row">
    <div>
      <form id='formEmployee' #form='ngForm' (ngSubmit)='saveEmployee(form.value)'>
        <div class="form-group">
          <label>ID</label>
          <input [(ngModel)]='currentEmployee.id' name='id' ngModel>
        </div>
        <div class="form-group">
          <label>First Name</label>
          <input [(ngModel)]='currentEmployee.firstName' type='text' name='firstName' ngModel>
        </div>
        <div class="form-group">
          <label>Last Name</label>
          <input type='text' [(ngModel)]='currentEmployee.lastName' name='lastName' ngModel>
        </div>
        <div class="form-group">
          <label>Title</label>
          <input type='text' [(ngModel)]='currentEmployee.title' name='title' ngModel>
        </div>
        <div class="form-group">
          <label>Date of birth</label>
          <input type='text' [(ngModel)]='currentEmployee.dateOfBirth' name='dateOfBirth' ngModel>
        </div>
      </form>
      <button class="btn btn-success" (click)='finish()'>Finish</button>
    </div>
  </div>
</div>
</div>


<div *ngIf='secondTab' class="container employee-main">
  <div class="row">
    <h2>Related projects</h2><br>
    <table class="table table-hover text-center">
      <tr>
        <th class="text-center">Id</th>
        <th class="text-center">Project Name</th>
      </tr>
      <tr *ngFor='let employeeProjects of currentEmployee.projets'>
        <td>{{employeeProjects.id}}</td>
        <td>{{employeeProjects.name}}</td>
      </tr>
    </table>
  </div>
</div>